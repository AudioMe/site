  AdioMe written by Kohana php framework
  1. Check config in ./application/classes/Model/Configuration.php
  2. make sure user like www-date has rw permitions for next directories:
    ./application/logs/
    ./files/
    ./application/cache/
    ./tmp/
    ./uploads/


2013-11-01 ######################################################################################################################################################
Довавил функционал множества пакетов для юзеров, а также разграничения функционала взависимости от пакета.
База данных
    premium.premium_type_id - внешний ключ для premium_types
    premium_types таблица для для хранения пакетов и их свойст
    +-----------------+--------------+------+-----+---------+-------+
    | Field           | Type         | Null | Key | Default | Extra |
    +-----------------+--------------+------+-----+---------+-------+
    | premium_type_id | tinyint(1)   | NO   | PRI | 0       |       |
    | name            | varchar(16)  | NO   | UNI | NULL    |       |
    | description     | varchar(255) | YES  |     | NULL    |       |
    | price           | double       | YES  |     | 0       |       |
    | days            | int(11)      | YES  |     | 0       |       |
    | level           | tinyint(1)   | YES  | MUL | NULL    |       |
    | features        | text         | YES  |     | NULL    |       |
    +-----------------+--------------+------+-----+---------+-------+

    premium_type_id - первичный ключ
    name - символьный идентефикатор имя пакета
    description - описание пакета, выводится на интерфеис
    price - цена
    days - всемя действия пакета
    level - уровень пакета, используется для разграничения функционала
    features - json объект, внем храним все фичи пакета ({"photo_count":2,"work_count":0}) photo_count - кол-во фото и кол-во работ)


    mysql> desc premium_queue - таблица для хранения очередей на обновление пакета.
    Когда пользователь обновляет пакет который не равен текущему, и в текущего строк не истек, аудиоми добавляет запись в эту таблицу со статусом pending.
    Далее пользователю предлагается 2 варианта:
        1 поменять пакет сейчас, в таком случае premium.status = manual, пользователю ставиться новый пакет.
        2. поручить аудиоми обновление пакета, в таком случает premium.status = processed.
            Система ждет даты истечения строка, и в случае наступления даты обновляет пакет юзеру и premium.status = complete
    +----------------------+--------------------------------------------------------------------+------+-----+---------+----------------+
    | Field                | Type                                                               | Null | Key | Default | Extra          |
    +----------------------+--------------------------------------------------------------------+------+-----+---------+----------------+
    | id                   | int(11)                                                            | NO   | PRI | NULL    | auto_increment |
    | user_id              | int(11)                                                            | NO   | MUL | NULL    |                |
    | from_premium_type_id | tinyint(1)                                                         | YES  |     | NULL    |                |
    | to_premium_type_id   | tinyint(1)                                                         | YES  |     | NULL    |                |
    | status               | enum('processed','pending','manual','complete','canceled','error') | NO   |     | pending |                |
    | date_added           | date                                                               | YES  |     | NULL    |                |
    | date_started         | date                                                               | YES  |     | NULL    |                |
    +----------------------+--------------------------------------------------------------------+------+-----+---------+----------------+

./cronjob/prem_update.php - скприт для планировщика заданий.
    Обязательно должен запуститься сразу после наступления нового дня, так как у нас формат даты Y-m-d.
    Но желательно запускать по несколько раз в день, так как от сбоев на сервере никто не застрахован :)